let m="undefined"!==typeof BigUint64Array,p=Symbol(),t=new TextDecoder("utf-16le");function v(a,b){let c=(new Uint32Array(a))[b+-4>>>2]>>>1;a=new Uint16Array(a,b,c);return 32>=c?String.fromCharCode.apply(String,a):t.decode(a)}
function w(a){function b(a,b){return a?v(a.buffer,b):"<yet unknown>"}let c={},d=a.env=a.env||{};d.abort=d.abort||function(a,e,g,h){let k=c.memory||d.memory;throw Error(`abort: ${b(k,a)} at ${b(k,e)}:${g}:${h}`);};d.trace=d.trace||function(a,e,...g){console.log(`trace: ${b(c.memory||d.memory,a)}${e?" ":""}${g.slice(0,e).join(", ")}`)};d.seed=d.seed||Date.now;a.Math=a.Math||Math;a.Date=a.Date||Date;return c}function x(){throw Error("Operation requires compiling with --exportRuntime");}
function y(a,b){function c(a){{var b=a;let c=new Uint32Array(k.buffer),f=c[u>>>2];if((b>>>=0)>=f)throw Error(`invalid id: ${b}`);b=c[(u+4>>>2)+2*b]}if(!(b&7))throw Error(`not an array: ${a}, flags=${b}`);return b}function d(a,b,c){let f=k.buffer;if(c)switch(a){case 2:return new Float32Array(f);case 3:return new Float64Array(f)}else switch(a){case 0:return new (b?Int8Array:Uint8Array)(f);case 1:return new (b?Int16Array:Uint16Array)(f);case 2:return new (b?Int32Array:Uint32Array)(f);case 3:return new (b?
BigInt64Array:BigUint64Array)(f)}throw Error(`unsupported align: ${a}`);}function l(a){let b=new Uint32Array(k.buffer),f=c(b[a+-8>>>2]),e=31-Math.clz32(f>>>6&31),r=f&4?a:b[a+4>>>2];a=f&2?b[a+12>>>2]:b[r+-4>>>2]>>>e;return d(e,f&2048,f&4096).subarray(r>>>=e,r+a)}function e(a,b,c){return new a(g(a,b,c))}function g(a,b,c){let f=k.buffer,d=new Uint32Array(f);c=d[c+4>>>2];return new a(f,c,d[c+-4>>>2]>>>b)}function h(b,c,d){a[`__get${c}`]=e.bind(null,b,d);a[`__get${c}View`]=g.bind(null,b,d)}b=b.exports;
let k=b.memory,n=b.table,r=b.__new||x,q=b.__pin||x,K=b.__unpin||x,L=b.__collect||x,u=b.__rtti_base||-1;a.__new=r;a.__pin=q;a.__unpin=K;a.__collect=L;a.__newString=function(a){if(null==a)return 0;let b=a.length,c=r(b<<1,1),d=new Uint16Array(k.buffer);for(var f=0,e=c>>>1;f<b;++f)d[e+f]=a.charCodeAt(f);return c};a.__getString=function(a){if(!a)return null;let b=k.buffer;if(1!==(new Uint32Array(b))[a+-8>>>2])throw Error(`not a string: ${a}`);return v(b,a)};a.__newArray=function(a,b){var f=c(a);let e=
31-Math.clz32(f>>>6&31),h=b.length,g=r(h<<e,f&4?a:0);if(f&4)a=g;else{a=r(f&2?16:12,a);var q=new Uint32Array(k.buffer);q[a+0>>>2]=g;q[a+4>>>2]=g;q[a+8>>>2]=h<<e;f&2&&(q[a+12>>>2]=h)}q=d(e,f&2048,f&4096);if(f&16384)for(f=0;f<h;++f)q[(g>>>e)+f]=b[f];else q.set(b,g>>>e);return a};a.__getArrayView=l;a.__getArray=function(a){a=l(a);let b=a.length,c=Array(b);for(let d=0;d<b;d++)c[d]=a[d];return c};a.__getArrayBuffer=function(a){let b=k.buffer,c=(new Uint32Array(b))[a+-4>>>2];return b.slice(a,a+c)};[Int8Array,
Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array].forEach(a=>{h(a,a.name,31-Math.clz32(a.BYTES_PER_ELEMENT))});m&&[BigUint64Array,BigInt64Array].forEach(a=>{h(a,a.name.slice(3),3)});a.__instanceof=function(a,b){var c=new Uint32Array(k.buffer);a=c[a+-8>>>2];if(a<=c[u>>>2]){do{if(a==b)return!0;{c=a;a=new Uint32Array(k.buffer);let b=a[u>>>2];if((c>>>=0)>=b)throw Error(`invalid id: ${c}`);a=a[(u+4>>>2)+2*c+1]}}while(a)}return!1};a.memory=a.memory||k;
a.table=a.table||n;return z(b,a)}function A(a){return"undefined"!==typeof Response&&a instanceof Response}async function B(a,b={}){if(A(a=await a))return C(a,b);a=a instanceof WebAssembly.Module?a:await WebAssembly.compile(a);var c=w(b);b=await WebAssembly.instantiate(a,b);c=y(c,b);return{module:a,instance:b,exports:c}}
async function C(a,b={}){if(!WebAssembly.instantiateStreaming)return B(A(a=await a)?a.arrayBuffer():a,b);var c=w(b);a=await WebAssembly.instantiateStreaming(a,b);c=y(c,a.instance);return{...a,exports:c}}
function z(a,b={}){let c=a.__argumentsLength?b=>{a.__argumentsLength.value=b}:a.__setArgumentsLength||a.__setargc||(()=>{});for(let e in a){if(!Object.prototype.hasOwnProperty.call(a,e))continue;let g=a[e];var d=e.split(".");let h=b;for(;1<d.length;){var l=d.shift();Object.prototype.hasOwnProperty.call(h,l)||(h[l]={});h=h[l]}d=d[0];l=d.indexOf("#");if(0<=l){let b=d.substring(0,l),n=h[b];if("undefined"===typeof n||!n.prototype){let a=function(...b){return a.wrap(a.prototype.constructor(0,...b))};a.prototype=
{valueOf(){return this[p]}};a.wrap=function(b){return Object.create(a.prototype,{[p]:{value:b,writable:!1}})};n&&Object.getOwnPropertyNames(n).forEach(b=>Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(n,b)));h[b]=a}d=d.substring(l+1);h=h[b].prototype;if(/^(get|set):/.test(d)){if(!Object.prototype.hasOwnProperty.call(h,d=d.substring(4))){let b=a[e.replace("set:","get:")],c=a[e.replace("get:","set:")];Object.defineProperty(h,d,{get(){return b(this[p])},set(a){c(this[p],a)},enumerable:!0})}}else"constructor"===
d?(h[d]=(...a)=>{c(a.length);return g(...a)}).original=g:(h[d]=function(...a){c(a.length);return g(this[p],...a)}).original=g}else/^(get|set):/.test(d)?Object.prototype.hasOwnProperty.call(h,d=d.substring(4))||Object.defineProperty(h,d,{get:a[e.replace("set:","get:")],set:a[e.replace("get:","set:")],enumerable:!0}):"function"===typeof g&&g!==c?(h[d]=(...a)=>{c(a.length);return g(...a)}).original=g:h[d]=g}return b}
var D={instantiate:B,instantiateSync:function(a,b={}){a=a instanceof WebAssembly.Module?a:new WebAssembly.Module(a);var c=w(b);b=new WebAssembly.Instance(a,b);c=y(c,b);return{module:a,instance:b,exports:c}},instantiateStreaming:C,demangle:z};async function E(a,b){let c=a instanceof Promise;c&&(a=await a);return(c?await D.instantiateStreaming(a,b):await D.instantiate(a,b)).exports}
let F="__newString __newArray __getString __getArrayBuffer __getArray __getArrayView __getInt8ArrayView __getUint8ArrayView __getUint8ClampedArrayView __getInt16ArrayView __getUint16ArrayView __getInt32ArrayView __getUint32ArrayView __getInt64ArrayView __getUint64ArrayView __getFloat32ArrayView __getFloat64ArrayView __new __renew __pin __unpin __instanceof __collect __rtti_base __alloc __allocArray __allocString".split(" "),G="__new __newString __newArray __pin __unpin __instanceof __getString __getArrayBuffer __getArray __getArrayView __getInt8ArrayView __getUint8ArrayView __getUint8ClampedArrayView __getInt16ArrayView __getUint16ArrayView __getInt32ArrayView __getUint32ArrayView __getInt64ArrayView __getUint64ArrayView __getFloat32ArrayView __getFloat64ArrayView".split(" ");
function H(a,b){if("object"!==typeof a)throw Error("Did not pass a valid exports object of the WebAssembly Instance");if("function"!==typeof b)throw Error("Did not pass a valid exported function of the WebAssembly Instance");G.forEach(b=>{if(!a[b])throw Error('Required Exported AssemblyScript Runtime functions are not present. Please compile your AssemblyScript with "--exportRuntime", and "--runtime" must be set to "incremental", "minimal", or "stub"');})}
let I=(a,b)=>({ptr:b,value:a}),J={STRING:{isTypeFromArgument:a=>"string"===typeof a,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_String_ID),getRef:(a,b)=>a.__pin(a.__newString(b)),getValueFromRef:(a,b)=>a.__getString(b)},INT8ARRAY:{isTypeFromArgument:a=>a instanceof Int8Array,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_Int8Array_ID),getRef:(a,b)=>a.__pin(a.__newArray(a.__asbind_Int8Array_ID,b)),getValueFromRef:(a,b)=>a.__getInt8Array(b),getUnsafeValueFromRef:(a,b)=>I(a.__getInt8ArrayView(b),
b)},UINT8ARRAY:{isTypeFromArgument:a=>a instanceof Uint8Array,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_Uint8Array_ID),getRef:(a,b)=>a.__pin(a.__newArray(a.__asbind_Uint8Array_ID,b)),getValueFromRef:(a,b)=>a.__getUint8Array(b),getUnsafeValueFromRef:(a,b)=>I(a.__getUint8ArrayView(b),b)},INT16ARRAY:{isTypeFromArgument:a=>a instanceof Int16Array,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_Int16Array_ID),getRef:(a,b)=>a.__pin(a.__newArray(a.__asbind_Int16Array_ID,b)),getValueFromRef:(a,
b)=>a.__getInt16Array(b),getUnsafeValueFromRef:(a,b)=>I(a.__getInt16ArrayView(b),b)},UINT16ARRAY:{isTypeFromArgument:a=>a instanceof Uint16Array,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_Uint16Array_ID),getRef:(a,b)=>a.__pin(a.__newArray(a.__asbind_Uint16Array_ID,b)),getValueFromRef:(a,b)=>a.__getUint16Array(b),getUnsafeValueFromRef:(a,b)=>I(a.__getUint16ArrayView(b),b)},INT32ARRAY:{isTypeFromArgument:a=>a instanceof Int32Array,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_Int32Array_ID),
getRef:(a,b)=>a.__pin(a.__newArray(a.__asbind_Int32Array_ID,b)),getValueFromRef:(a,b)=>a.__getInt32Array(b),getUnsafeValueFromRef:(a,b)=>I(a.__getInt32ArrayView(b),b)},UINT32ARRAY:{isTypeFromArgument:a=>a instanceof Uint32Array,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_Uint32Array_ID),getRef:(a,b)=>a.__pin(a.__newArray(a.__asbind_Uint32Array_ID,b)),getValueFromRef:(a,b)=>a.__getUint32Array(b),getUnsafeValueFromRef:(a,b)=>I(a.__getUint32ArrayView(b),b)},FLOAT32ARRAY:{isTypeFromArgument:a=>
a instanceof Float32Array,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_Float32Array_ID),getRef:(a,b)=>a.__pin(a.__newArray(a.__asbind_Float32Array_ID,b)),getValueFromRef:(a,b)=>a.__getFloat32Array(b),getUnsafeValueFromRef:(a,b)=>I(a.__getFloat32ArrayView(b),b)},FLOAT64ARRAY:{isTypeFromArgument:a=>a instanceof Float64Array,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_Float64Array_ID),getRef:(a,b)=>a.__pin(a.__newArray(a.__asbind_Float64Array_ID,b)),getValueFromRef:(a,b)=>a.__getFloat64Array(b),
getUnsafeValueFromRef:(a,b)=>I(a.__getFloat64ArrayView(b),b)},BIGINT64ARRAY:{isTypeFromArgument:a=>a instanceof BigInt64Array,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_Int64Array_ID),getRef:(a,b)=>a.__pin(a.__newArray(a.__asbind_Int64Array_ID,b)),getValueFromRef:(a,b)=>a.__getInt64Array(b),getUnsafeValueFromRef:(a,b)=>I(a.__getInt64ArrayView(b),b)},BIGUINT64ARRAY:{isTypeFromArgument:a=>a instanceof BigUint64Array,isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_Uint64Array_ID),
getRef:(a,b)=>a.__pin(a.__newArray(a.__asbind_Uint64Array_ID,b)),getValueFromRef:(a,b)=>a.__getInt64Array(b),getUnsafeValueFromRef:(a,b)=>I(a.__getInt64ArrayView(b),b)},I32ARRAY:{isTypeFromArgument:a=>Array.isArray(a)&&Number.isInteger(a[0]),isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_I32Array_ID),getRef:(a,b)=>a.__pin(a.__newArray(a.__asbind_I32Array_ID,b)),getValueFromRef:(a,b)=>a.__getArray(b)},I64ARRAY:{isTypeFromArgument:a=>Array.isArray(a)&&"bigint"===typeof a[0],isTypeFromReference:(a,
b)=>a.__instanceof(b,a.__asbind_I64Array_ID),getRef:(a,b)=>a.__pin(a.__newArray(a.__asbind_I64Array_ID,b)),getValueFromRef:(a,b)=>a.__getArray(b)},STRINGARRAY:{isTypeFromArgument:a=>Array.isArray(a)&&"string"===typeof a[0],isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_StringArray_ID),getRef:(a,b)=>{b=b.map(b=>a.__pin(a.__newString(b)));return a.__pin(a.__newArray(a.__asbind_StringArray_ID,b))},getValueFromRef:(a,b)=>a.__getArray(b).map(b=>a.__getString(b))},BOOLARRAY:{isTypeFromArgument:a=>
Array.isArray(a)&&"boolean"===typeof a[0],isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_BoolArray_ID),getRef:(a,b)=>a.__pin(a.__newArray(a.__asbind_BoolArray_ID,b)),getValueFromRef:(a,b)=>a.__getArray(b).map(a=>!!a)},I32ARRAYARRAY:{isTypeFromArgument:a=>Array.isArray(a)&&Array.isArray(a[0])&&Number.isInteger(a[0][0]),isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_I32ArrayArray_ID),getRef:(a,b)=>{b=b.map(b=>a.__pin(a.__newArray(a.__asbind_I32Array_ID,b)));return a.__pin(a.__newArray(a.__asbind_I32ArrayArray_ID,
b))},getValueFromRef:(a,b)=>a.__getArray(b).map(b=>a.__getArray(b))},I64ARRAYARRAY:{isTypeFromArgument:a=>Array.isArray(a)&&Array.isArray(a[0])&&"bigint"===typeof a[0][0],isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_I64ArrayArray_ID),getRef:(a,b)=>{b=b.map(b=>a.__pin(a.__newArray(a.__asbind_I64Array_ID,b)));return a.__pin(a.__newArray(a.__asbind_I64ArrayArray_ID,b))},getValueFromRef:(a,b)=>a.__getArray(b).map(b=>a.__getArray(b))},STRINGARRAYARRAY:{isTypeFromArgument:a=>Array.isArray(a)&&
Array.isArray(a[0])&&"string"===typeof a[0][0],isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_StringArrayArray_ID),getRef:(a,b)=>{b=b.map(b=>{b=b.map(b=>a.__pin(a.__newString(b)));return a.__pin(a.__newArray(a.__asbind_StringArray_ID,b))});return a.__pin(a.__newArray(a.__asbind_StringArrayArray_ID,b))},getValueFromRef:(a,b)=>a.__getArray(b).map(b=>a.__getArray(b).map(b=>a.__getString(b)))},BOOLARRAYARRAY:{isTypeFromArgument:a=>Array.isArray(a)&&Array.isArray(a[0])&&"boolean"===typeof a[0][0],
isTypeFromReference:(a,b)=>a.__instanceof(b,a.__asbind_BoolArrayArray_ID),getRef:(a,b)=>{b=b.map(b=>a.__pin(a.__newArray(a.__asbind_BoolArray_ID,b)));return a.__pin(a.__newArray(a.__asbind_BoolArrayArray_ID,b))},getValueFromRef:(a,b)=>a.__getArray(b).map(b=>a.__getArray(b).map(a=>!!a))}},M={NUMBER:"NUMBER"};for(let a of Object.keys(J))M[a]=a;
function N(a,b,c){function d(){const d=a.unboundExports;g===b&&(g=l(b,[...c]));const k=[];Array.prototype.slice.call(arguments).forEach((a,b)=>{let c=void 0;g.shouldCacheTypes&&g.cachedArgTypes[b]&&"ref"===g.cachedArgTypes[b].type?c=J[g.cachedArgTypes[b].key]:Object.keys(J).some(e=>J[e].isTypeFromReference(d,a)?(c=J[e],g.shouldCacheTypes&&(g.cachedArgTypes[b]={type:"ref",key:e}),!0):!1);c?k.push(c.getValueFromRef(d,a)):k.push(a)});return e.apply(null,k)}let l=(a,b)=>{a=a[b[0]];b.shift();return 0<
b.length?l(a,b):a},e=l(b,[...c]),g=b;d.shouldCacheTypes=!0;d.cachedArgTypes=[];return d}
function O(a,b){function c(){var c=Array.prototype.slice.call(arguments);e===a.exports&&(e=a.exports[b]);const h=[],k=[];c.forEach((a,b)=>{if("number"===typeof a)h.push(a),e.shouldCacheTypes&&(e.cachedArgTypes[b]={type:"number"});else{var c=void 0;if(e.shouldCacheTypes&&e.cachedArgTypes[b]&&"ref"===e.cachedArgTypes[b].type)c=J[e.cachedArgTypes[b].key];else if(Object.keys(J).some(d=>J[d].isTypeFromArgument(a)?(c=J[d],e.shouldCacheTypes&&(e.cachedArgTypes[b]={type:"ref",key:d}),!0):!1),!c)throw Error(`The argument, ${a}, is not a supported type by asbind`);
h.push(c.getRef(d,a));k.push(b)}});const n=l.apply(null,h);k.forEach(a=>{d.__unpin(h[a])});c=void 0;if(void 0!==n){let a=void 0;e.returnType?J[e.returnType]&&(a=J[e.returnType]):e.shouldCacheTypes&&e.cachedReturnTypes[0]?"ref"===e.cachedReturnTypes[0].type&&(a=J[e.cachedReturnTypes[0].key]):Object.keys(J).some(b=>J[b].isTypeFromReference(d,n)?(a=J[b],e.shouldCacheTypes&&(e.cachedReturnTypes[0]={type:"ref",key:b}),!0):!1);a?c=e.unsafeReturnValue&&a.getUnsafeValueFromRef?a.getUnsafeValueFromRef(d,n):
a.getValueFromRef(d,n):"number"===typeof n&&(c=n,e.shouldCacheTypes&&!e.returnType&&(e.cachedReturnTypes[0]={type:"number"}))}return c}let d=a.unboundExports,l=d[b];H(d,l);let e=a.exports;c.shouldCacheTypes=!0;c.unsafeReturnValue=!1;c.returnType=null;c.cachedArgTypes=[];c.cachedReturnTypes=[];return c}let P=(a,b,c)=>{a&&Object.keys(a).forEach(d=>{"function"===typeof a[d]?c(a,b,d):"object"===typeof a[d]&&P(a[d],[...b,d],c)})};
class Q{constructor(){this.unboundExports={};this.exports={};this.importObject={}}async _instantiate(a,b){this._instantiateBindImportFunctions(b);a=await E(a,this.importObject);this._instantiateBindUnboundExports(a)}_instantiateSync(a,b){this._instantiateBindImportFunctions(b);a=D.instantiateSync(a,this.importObject).exports;this._instantiateBindUnboundExports(a)}_instantiateBindImportFunctions(a){this.importObject=a;P(this.importObject,[],(a,c,d)=>{a[`__asbind_unbound_${d}`]=a[d];a[d]=N(this,this.importObject,
[...c,d])})}_instantiateBindUnboundExports(a){this.unboundExports=a;if(!this.unboundExports.__asbind_entryfile_flag||0===this.unboundExports.__asbind_entryfile_flag)throw Error("as-bind: The instantiated AssemblyScript wasm module was not built with the as-bind entryfile. Please see the as-bind documentation (Quick Start), and rebuild your AssemblyScript wasm module.");this.exports={};Object.keys(this.unboundExports).forEach(a=>{var b;if(b="function"===typeof this.unboundExports[a])b=a.startsWith("__asbind")?
!0:F.includes(a)?!0:!1,b=!b;this.exports[a]=b?O(this,a):this.unboundExports[a]})}enableExportFunctionTypeCaching(){Object.keys(this.exports).forEach(a=>{this.exports[a]&&(this.exports[a].shouldCacheTypes=!0)})}disableExportFunctionTypeCaching(){Object.keys(this.exports).forEach(a=>{this.exports[a]&&(this.exports[a].shouldCacheTypes=!1)})}enableExportFunctionUnsafeReturnValue(){Object.keys(this.exports).forEach(a=>{this.exports[a]&&(this.exports[a].unsafeReturnValue=!0)})}disableExportFunctionUnsafeReturnValue(){Object.keys(this.exports).forEach(a=>
{this.exports[a]&&(this.exports[a].unsafeReturnValue=!1)})}enableImportFunctionTypeCaching(){P(this.importObject,[],(a,b,c)=>{a[c].shouldCacheTypes=!0})}disableImportFunctionTypeCaching(){P(this.importObject,[],(a,b,c)=>{a[c].shouldCacheTypes=!1})}}let R={version:"0.6.0",RETURN_TYPES:M,instantiate:async(a,b)=>{let c=new Q;await c._instantiate(a,b);return c},instantiateSync:(a,b)=>{let c=new Q;c._instantiateSync(a,b);return c}};export default R;export{R as AsBind}
